(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bind-phone"],{"0581":function(e,t,a){"use strict";a.r(t);var i=a("ea5b"),n=a("bb7c");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("80d5");var s,d=a("8261"),r=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"60019140",null,!1,i["a"],s);t["default"]=r.exports},"29d6":function(e,t,a){var i=a("90e5");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("06f1").default;n("e2fcbcba",i,!0,{sourceMap:!1,shadowMode:!1})},"80d5":function(e,t,a){"use strict";var i=a("29d6"),n=a.n(i);n.a},"90e5":function(e,t,a){var i=a("a1a8");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* start--主题色--start */\n/* end--主题色--end */.he-page-content[data-v-60019140]{padding:%?20?%}.he-box[data-v-60019140]{width:%?710?%;background:#fff;border-radius:%?16?%;padding:%?16?% %?24?%}.he-item[data-v-60019140]{height:%?100?%}.he-item[data-v-60019140]:first-child{border-bottom:%?1?% solid #e5e5e5}.he-submit[data-v-60019140]{margin-top:%?80?%;width:%?710?%;height:%?80?%;border-radius:%?40?%;font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#fff}[data-theme="red_theme"] .he-submit[data-v-60019140]{background-color:#e60b30!important}[data-theme="purple_theme"] .he-submit[data-v-60019140]{background-color:#8f2df3!important}[data-theme="blue_theme"] .he-submit[data-v-60019140]{background-color:#33a7ff!important}[data-theme="green_theme"] .he-submit[data-v-60019140]{background-color:#1fc551!important}[data-theme="orange_theme"] .he-submit[data-v-60019140]{background-color:#ff7f00!important}[data-theme="golden_theme"] .he-submit[data-v-60019140]{background-color:#caa45a!important}.he-submit[disabled][data-v-60019140]{background:#ccc!important;color:#fff}.he-item__label[data-v-60019140]{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#222;width:%?156?%;line-height:%?100?%}.he-item__input[data-v-60019140]{height:%?100?%;width:100%}.he-item__get-code[data-v-60019140]{width:%?240?%;height:%?100?%;padding:0;font-size:%?26?%;font-family:PingFang SC;font-weight:500;background-color:#fff}.he-item__get-code-0[data-v-60019140]{color:#999}[data-theme="red_theme"] .he-item__get-code-1[data-v-60019140]{color:#e60b30!important}[data-theme="purple_theme"] .he-item__get-code-1[data-v-60019140]{color:#8f2df3!important}[data-theme="blue_theme"] .he-item__get-code-1[data-v-60019140]{color:#33a7ff!important}[data-theme="green_theme"] .he-item__get-code-1[data-v-60019140]{color:#1fc551!important}[data-theme="orange_theme"] .he-item__get-code-1[data-v-60019140]{color:#ff7f00!important}[data-theme="golden_theme"] .he-item__get-code-1[data-v-60019140]{color:#caa45a!important}.he-mobile-text[data-v-60019140]{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#666;line-height:%?32?%;margin:%?20?% 0;display:inline-block}',""]),e.exports=t},bb7c:function(e,t,a){"use strict";a.r(t);var i=a("d14e"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},d14e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"bind-phone",data:function(){return{iphone:"",code:"",time:null,num:60}},computed:{mobile:function(){return this.$store.state.apply.userInfo.mobile},disabled:function(){return!this.iphone||!this.code}},methods:{submit:function(){var e=this;this.iphone&&this.code&&this.$heshop.users("put",{behavior:"bindMobile",type:"code"},{mobile:this.iphone,code:this.code}).then((function(){e.$h.toast("绑定手机号成功"),e.$store.state.apply.userInfo.mobile=e.iphone;var t=uni.getStorageInfoSync("userInfo");t.mobile=e.iphone,uni.setStorageSync("userInfo",t),uni.switchTab({url:"/pages/user/index"})})).catch((function(t){e.$h.toast(t.data.message)}))},getCode:function(){if(this.iphone&&!this.time){var e=this;this.$heshop.sms("post",{mobile:this.iphone,type:1}).then((function(t){e.time=setInterval((function(){e.num--,e.num<=0&&(clearInterval(e.time),e.time=null)}),1e3)})).catch((function(t){e.$h.toast(t.data.message)}))}}},beforeDestroy:function(){this.time&&clearInterval(this.time)}};t.default=i},ea5b:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"he-page-content",attrs:{"data-theme":e.theme}},[e.mobile?a("v-uni-text",{staticClass:"he-mobile-text"},[e._v("更换手机后，下次登录可使用新手机号登录。 当前手机号："+e._s(e.mobile))]):e._e(),a("v-uni-view",{staticClass:"he-box"},[a("v-uni-view",{staticClass:"he-item flex"},[a("v-uni-text",{staticClass:"he-item__label"},[e._v("手机号")]),a("v-uni-input",{staticClass:"he-item__input flex-sub",attrs:{type:"number","placeholder-style":"font-size: 26rpx;font-family: PingFang SC;font-weight: 500;color: #999999;",maxlength:16,placeholder:"请填写要绑定的手机号"},model:{value:e.iphone,callback:function(t){e.iphone=t},expression:"iphone"}})],1),a("v-uni-view",{staticClass:"he-item flex"},[a("v-uni-text",{staticClass:"he-item__label"},[e._v("验证码")]),a("v-uni-input",{staticClass:"he-item__input flex-sub",attrs:{type:"number","placeholder-style":"font-size: 26rpx;font-family: PingFang SC;font-weight: 500;color: #999999;",oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请填写收到的验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("v-uni-button",{staticClass:"cu-btn he-item__get-code",class:e.time?"he-item__get-code-0":"he-item__get-code-1",attrs:{type:"text",disabled:!!e.time},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.time?e.num+"s后重新获取":"获取验证码"))])],1)],1),a("v-uni-button",{staticClass:"cu-btn he-submit",attrs:{disabled:e.disabled},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确认绑定")])],1)},o=[]}}]);